{% extends "base.html.twig" %}

{% block proj %}
    <form method="post" action="{{ path('blackjack_home') }}">
        <label for="numPlayers">Number of Players:</label>
        <input type="number" id="numPlayers" name="numPlayers" min="1" max="3" required>
        <div id="playerDetailsContainer"></div>
        <button id="thesub" type="submit" style="display: none;">Start Game</button>
    </form>

    <script>
        document.getElementById('numPlayers').addEventListener('change', function() {
            const numPlayers = parseInt(this.value);
            const container = document.getElementById('playerDetailsContainer');
            container.innerHTML = '';
            for (let i = 0; i < numPlayers; i++) {
                container.innerHTML += `<div>
                    <label for="playerName${i}">Player ${i + 1} Name:</label>
                    <input type="text" id="playerName${i}" name="playerNames[${i}]" required>
                    <label for="playerBet${i}">Bet:</label>
                    <input type="number" id="playerBet${i}" name="playerBets[${i}]" min="1" max="200" required>
                </div>`;
            }
            const thesub = document.getElementById('thesub');
            thesub.style.display = 'block';
        });
    </script>
{% endblock %}
